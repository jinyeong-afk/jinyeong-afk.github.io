(function(){"use strict";var e={5085:function(e,t,n){var a=n(9242),o=n(3396);const i={class:"header"},s={class:"header-button-left"},l={class:"header-button-right"},r=(0,o._)("img",{src:"https://photoshare-ps.s3.ap-northeast-2.amazonaws.com/ProjectFiles/KakaoTalk_20231023_155712928.png",class:"logo"},null,-1),c={class:"scrollable-container",ref:"scrollContainer"},u={class:"content image-grid"},d=["id","checked","onChange"],g=["for"],h=["src","onContextmenu","onTouchstart"],p={class:"footer"},m={class:"footer-button-plus"},f=(0,o._)("label",{for:"file",class:"input-p.lus"},"+",-1);function k(e,t,n,k,v,b){const w=(0,o.up)("ContainerVue");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[(0,o._)("ul",s,[(0,o._)("li",{onClick:t[0]||(t[0]=(...e)=>b.cancleButton&&b.cancleButton(...e))},"Cancel")]),(0,o._)("ul",l,[1==v.tapState?((0,o.wg)(),(0,o.iD)("li",{key:0,onClick:t[1]||(t[1]=e=>v.tapState=2)},"Next")):(0,o.kq)("",!0),2==v.tapState?((0,o.wg)(),(0,o.iD)("li",{key:1,onClick:t[2]||(t[2]=(...e)=>b.publish&&b.publish(...e))},"발행")):(0,o.kq)("",!0)]),r]),(0,o._)("button",{onClick:t[3]||(t[3]=(...e)=>b.downloadSelectedFiles&&b.downloadSelectedFiles(...e))},"Download Selected Files"),(0,o._)("div",c,[(0,o._)("div",u,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.getImageData,((e,n)=>((0,o.wg)(),(0,o.iD)("div",{key:n,class:"image-item"},[1==v.checkBoxState?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"checkbox",id:"checkbox-"+n,checked:v.selectedImages.includes(n),onChange:e=>b.toggleImageSelection(n),class:"checkbox"},null,40,d)):(0,o.kq)("",!0),(0,o._)("label",{for:"checkbox-"+n},[(0,o._)("img",{src:e.mediaUrl,class:"fixed-height-image",onContextmenu:(0,a.iM)((e=>b.handleShowCheckbox(n)),["prevent"]),onTouchstart:(0,a.iM)((e=>b.handleStartImageSelection(n)),["prevent"]),onTouchmove:t[4]||(t[4]=(0,a.iM)((e=>b.handleSelectImage(e)),["prevent"])),onTouchend:t[5]||(t[5]=(0,a.iM)(((...e)=>b.handleEndImageSelection&&b.handleEndImageSelection(...e)),["prevent"]))},null,40,h)],8,g)])))),128))])],512),(0,o.Wm)(w,{uploadImg:v.uploadImg,tapState:v.tapState,instaData:v.instaData,onWrite:t[6]||(t[6]=e=>v.writeContent=e)},null,8,["uploadImg","tapState","instaData"]),(0,o._)("div",p,[(0,o._)("ul",m,[(0,o._)("input",{onChange:t[7]||(t[7]=(...e)=>b.uploadServer&&b.uploadServer(...e)),accept:"image/*",multiple:"",ref:"fileInput",type:"file",id:"file",class:"inputfile"},null,544),f])])],64)}n(7658),n(541),n(6229),n(7330),n(2062);var v=n(7139);const b={key:0},w={class:"filters"},I=(0,o._)("span",null," img",-1),S={key:1},y={class:"write"},x={key:2};function C(e,t,n,a,i,s){const l=(0,o.up)("PostVue"),r=(0,o.up)("FilterBoxVue");return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.instaData,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[0==n.tapState?((0,o.wg)(),(0,o.j4)(l,{key:0,idx:t,instaValue:n.instaData[t]},null,8,["idx","instaValue"])):(0,o.kq)("",!0)])))),128)),1==n.tapState?((0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("div",{class:(0,v.C_)([i.imgFilter,"upload-image"]),style:(0,v.j5)({backgroundImage:"url("+n.uploadImg[0]+")"})},null,6),(0,o._)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.instaFilters,((e,t)=>((0,o.wg)(),(0,o.j4)(r,{uploadImg:n.uploadImg,key:t,instaFilter:e},{a:(0,o.w5)((()=>[(0,o.Uk)((0,v.zw)(e),1)])),b:(0,o.w5)((()=>[I])),_:2},1032,["uploadImg","instaFilter"])))),128))])])):(0,o.kq)("",!0),2==n.tapState?((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("div",{class:(0,v.C_)([i.imgFilter,"upload-image"]),style:(0,v.j5)({backgroundImage:"url("+n.uploadImg[0]+")"})},null,6),(0,o._)("div",y,[(0,o._)("textarea",{onInput:t[0]||(t[0]=t=>e.$emit("write",t.target.value)),class:"write-box"},"write!",32)])])):(0,o.kq)("",!0),3==n.tapState?((0,o.wg)(),(0,o.iD)("div",x)):(0,o.kq)("",!0)])}const _={class:"post"},D={class:"post-header"},F={class:"profile-name"},j={class:"post-content"},V={class:"date"};function T(e,t,n,a,i,s){return(0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",D,[(0,o._)("div",{class:"profile",style:(0,v.j5)({backgroundImage:"url("+n.instaValue.userImage+")"})},null,4),(0,o._)("span",F,(0,v.zw)(n.instaValue.name),1)]),(0,o._)("div",{class:(0,v.C_)([n.instaValue.filter,"post-body"]),onClick:t[0]||(t[0]=t=>e.$store.commit("likePost",n.idx)),style:(0,v.j5)({backgroundImage:"url("+n.instaValue.postImage+")"})},null,6),(0,o._)("div",j,[(0,o._)("p",null,(0,v.zw)(e.$store.state.likes[n.idx])+" Likes",1),(0,o._)("p",null,[(0,o._)("strong",null,(0,v.zw)(n.instaValue.filter),1),(0,o.Uk)(" "+(0,v.zw)(n.instaValue.content),1)]),(0,o._)("p",V,(0,v.zw)(n.instaValue.date),1)])])}var B={name:"PostVue",props:{instaValue:Object,idx:Number}},O=n(89);const A=(0,O.Z)(B,[["render",T]]);var E=A;function M(e,t,n,a,i,s){return(0,o.wg)(),(0,o.iD)("div",{class:(0,v.C_)([n.instaFilter,"filter-item"]),onClick:t[1]||(t[1]=e=>s.clickFilter(n.instaFilter)),style:(0,v.j5)({backgroundImage:"url("+n.uploadImg[0]+")"})},[(0,o.WI)(e.$slots,"a"),(0,o.WI)(e.$slots,"b"),(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>s.fire&&s.fire(...e))},"버튼")],6)}var N={name:"FilterBox",props:{uploadImg:Array,instaFilter:String},methods:{fire(){this.emitter.emit("작명","데이터")},clickFilter(e){this.emitter.emit("filterName",e)}}};const Y=(0,O.Z)(N,[["render",M]]);var Z=Y,q={name:"ContainerVue",data(){return{instaFilters:["aden","_1977","brannan","brooklyn","clarendon","earlybird","gingham","hudson","inkwell","kelvin","lark","lofi","maven","mayfair","moon","nashville","perpetua","reyes","rise","slumber","stinson","toaster","valencia","walden","willow","xpro2"],imgFilter:""}},mounted(){this.emitter.on("filterName",(e=>{this.imgFilter=e}))},components:{PostVue:E,FilterBoxVue:Z},props:{instaData:Array,tapState:Number,uploadImg:Array}};const P=(0,O.Z)(q,[["render",C]]);var z=P,$=[{name:"Kim Hyun",userImage:"https://picsum.photos/100?random=3",postImage:"https://picsum.photos/600?random=3",likes:36,date:"May 15",liked:!1,content:"오늘 무엇을 했냐면요 아무것도 안했어요 ?",filter:"perpetua"},{name:"John Doe",userImage:"https://picsum.photos/100?random=4",postImage:"https://picsum.photos/600?random=4",likes:20,date:"Apr 20",liked:!1,content:"흔한 자랑스타그램",filter:"clarendon"},{name:"Minny",userImage:"https://picsum.photos/100?random=5",postImage:"https://picsum.photos/600?random=5",likes:49,date:"Apr 4",liked:!1,content:"우리집 개는 화장실 물도 내림",filter:"lofi"}],H=n(4161),K=n(4730),L=n.n(K),U={name:"App",data(){return{instaData:$,cnt:0,buttonState:0,tapState:3,uploadImg:[],getImageData:[],selectedImages:[],currentSelectedImages:[],showCheckboxes:[],writeContent:"",selectFilter:"",timeCounter:0,touchY:0,checkBoxState:!0,isSelecting:!1,startSelectionIndex:null,startScrollTop:null}},beforeMount(){H.Z.get("https://api.jinyeong.site/api/v1/media").then((e=>{this.getImageData=e.data})).catch((e=>{console.error("Error fetching data:",e)}))},mounted(){const e=this.$refs.scrollContainer;let t=!1;e.addEventListener("touchstart",(()=>{t=!1})),e.addEventListener("touchmove",(n=>{const{clientY:a}=n.touches[0];a>600&&(t=!0,e.scrollTop+=10)})),e.addEventListener("touchend",(()=>{t=!1})),setInterval((()=>{1==t&&this.touchY>600&&(t=!0,e.scrollTop+=30)}),500)},components:{ContainerVue:z},methods:{handleStartImageSelection(e){this.isSelecting=!0,this.startSelectionIndex=e,this.toggleImageSelection(e)},handleSelectImage(e){if(this.isSelecting&&null!==this.startSelectionIndex){e.preventDefault();const t=e.touches[0].clientX;this.touchY=e.touches[0].clientY;const n=e.targetTouches[0].clientX,a=e.targetTouches[0].clientY,o=this.getSelectedImageIndex(n,a,t,this.touchY);this.currentSelectedImages.includes(o)||this.toggleImageSelection(o)}},handleEndImageSelection(){this.isSelecting=!1,this.startSelectionIndex=null,this.currentSelectedImages=[]},getSelectedImageIndex(e,t,n,a){const o=document.querySelectorAll(".image-item");for(let i=0;i<o.length;i++){const e=o[i].getBoundingClientRect();if(n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom)return i}return-1},cancleButton(){1==this.checkBoxState&&(this.checkBoxState=!1,this.selectedImages=[])},handleShowCheckbox(e){console.log("showCheckbox"),this.showCheckboxes[e]=!0,this.checkBoxState=!0},hideCheckbox(e){this.showCheckboxes[e]=!1},toggleImageSelection(e){console.log("toggleImage: "+e),this.currentSelectedImages.includes(e)?this.currentSelectedImages=this.selectedImages.filter((t=>t!==e)):this.currentSelectedImages.push(e),this.selectedImages.includes(e)?this.selectedImages=this.selectedImages.filter((t=>t!==e)):this.selectedImages.push(e)},async uploadServer(){const e=new FormData,t=this.$refs.fileInput.files;for(let n=0;n<t.length;n++)e.append("file",t[n]);console.log(e),await H.Z.post("https://api.jinyeong.site/api/v1/media?file",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.checkBoxState&&(this.checkBoxState=!1,this.selectedImages=[]);for(let t=0;t<e.data.length;t++)this.getImageData.unshift(e.data[t])})).catch((e=>{console.log(e)})).then((()=>{console.log("execute")}))},async downloadSelectedFiles(){try{const e={fileNames:["00cd01a8-e359-4d59-819b-cf27300c902e.png","01b59553-5930-48fa-961d-74151905164b.png","0c53672e-b946-455d-a324-41de937ef10f.png"]},t=await H.Z.post("https://api.jinyeong.site/api/v1/media/download",JSON.stringify(e),{responseType:"blob",headers:{"Content-Type":"application/json"}}),n=await new Blob([t.data]);console.log(n);const a=new(L());await a.loadAsync(n),a.forEach((async(e,t)=>{const n=await t.async("blob"),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=e,a.textContent=`Download ${e}`,a.click()}))}catch(e){console.error("Error downloading files",e)}},more(){H.Z.get("https://codingapple1.github.io/vue//more"+this.cnt+".json").then((e=>{this.instaData.push(e.data),this.cnt=1}))},clickTab(e){this.buttonState=e},publish(){var e={name:"Kim Hyun",userImage:"https://picsum.photos/100?random=3",postImage:this.uploadImg[0],likes:36,date:"May 15",liked:!1,content:this.writeContent,filter:this.selectFilter};this.instaData.unshift(e),this.tapState=0,console.log(e)}}};const W=(0,O.Z)(U,[["render",k]]);var R=W,J=n(1373),X=n(65);const G=(0,X.MT)({state(){return{name:"kim",age:20,likes:[30,30,30],likeState:[!1,!1,!1],more:{}}},mutations:{setMore(e,t){e.more=t},changeName(e){e.name="park"},plusAge(e,t){e.age+=t},likePost(e,t){0==e.likeState[t]?(e.likes[t]+=1,e.likeState[t]=!0):(e.likes[t]-=1,e.likeState[t]=!1)}},actions:{getData(e){H.Z.get("https://codingapple1.github.io/vue//more0.json").then((t=>{e.commit("setMore",t.data)}))}}});var Q=G,ee=n(5431);(0,ee.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});let te=(0,J.Z)(),ne=(0,a.ri)(R);ne.config.globalProperties.emitter=te,ne.use(Q).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,i){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],i=e[u][2];for(var l=!0,r=0;r<a.length;r++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[r])}))?a.splice(r--,1):(l=!1,i<s&&(s=i));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,s=a[0],l=a[1],r=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(r)var u=r(n)}for(t&&t(a);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunkvuestagram"]=self["webpackChunkvuestagram"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(5085)}));a=n.O(a)})();
//# sourceMappingURL=app.a14c4224.js.map